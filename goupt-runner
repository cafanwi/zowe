Create a group runner with a runner authentication token
Version history 
Prerequisites:

You must have the Owner role for the group.
You can create a group runner for your self-managed GitLab instance or for GitLab.com. When you create a runner, it is assigned a runner authentication token that you use to register it. The runner uses the token to authenticate with GitLab when it picks up jobs from the job queue.

To create a group runner:

On the left sidebar, select Search or go to and find your group.
Select Build > Runners.
Select New group runner.
Select the operating system where GitLab Runner is installed.
In the Tags section, in the Tags field, enter the job tags to specify jobs the runner can run. If there are no job tags for this runner, select Run untagged.
Optional. In the Runner description field, add a runner description that displays in GitLab.
Optional. In the Configuration section, add additional configurations.
Select Create runner.
Follow the on-screen instructions to register the runner from the command line. When prompted by the command line:
For the GitLab instance URL, use the URL for your GitLab instance. For example, if your project is hosted on gitlab.example.com/yourname/yourproject, your GitLab instance URL is https://gitlab.example.com.
For the executor, enter the type of executor. The executor is the environment where the runner executes the job.


https://docs.gitlab.com/ee/ci/runners/runners_scope.html#shared-runners
https://docs.gitlab.com/runner/install/kubernetes.html


```Dockerfile
# Use a base image of your choice (e.g., Ubuntu)
FROM ubuntu:latest

# Install required dependencies
RUN apt-get update && \
    apt-get install -y curl

# Download and install Helm
RUN curl -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3 && \
    chmod +x get_helm.sh && \
    ./get_helm.sh

# Clean up unnecessary files
RUN rm get_helm.sh && \
    apt-get clean && \
    rm -rf /var/lib/apt/lists/*

# Set the default entry point to the Helm CLI
ENTRYPOINT ["helm"]
```

```yml
stages:
  - deploy

variables:
  HELM_CHART_PATH: /path/to/your/helm/chart
  VALUES_FILE_PATH: /path/to/your/values.yaml

deploy_to_cluster:
  image: cafanwii/helm:v1  # Use the name of the Helm image you built
  stage: deploy
  script:
    - helm upgrade --install my-release $HELM_CHART_PATH -f $VALUES_FILE_PATH
```


Required configuration
For GitLab Runner to function, your configuration file must specify the following:

gitlabUrl: The GitLab server full URL to register the runner against. For example, https://gitlab.example.com.
[rbac: { enable: true }:] Create RBAC rules for the GitLab Runner to create pods to run jobs in. If you have an existing serviceAccount you prefer to use, you should also set [rbac: { serviceAccountName: "SERVICE_ACCOUNT_NAME" }.] For more information about the minimal permissions required for the serviceAccount, see Configure runner API permissions.
runnerToken:
The authentication token you obtain when you create a runner in the GitLab UI.
Set the token directly or store it in a secret.
- or -

runnerRegistrationToken (deprecated in GitLab 15.6):
The registration token retrieved from your GitLab instance.
Set the token directly or store it in a secret.
Registration tokens have been deprecated and will be removed in GitLab 17.0.


https://gitlab.com/gitlab-org/charts/gitlab-runner/blob/main/values.yaml


configure config.toml and restart runner:m  systemctl restart gitlab-runner
