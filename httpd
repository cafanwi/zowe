# Use the official httpd image as the base image
FROM httpd:latest

# Copy the cafanwi.crt certificate to the container
COPY cafanwi.crt /usr/local/apache2/conf/

# Enable SSL module and configure HTTPS
RUN sed -i 's/#LoadModule\ ssl_module/LoadModule\ ssl_module/' /usr/local/apache2/conf/httpd.conf && \
    sed -i 's/#LoadModule\ socache_shmcb_module/LoadModule\ socache_shmcb_module/' /usr/local/apache2/conf/httpd.conf && \
    sed -i 's/#Include\ conf\/extra\/httpd-ssl.conf/Include\ conf\/extra\/httpd-ssl.conf/' /usr/local/apache2/conf/httpd.conf

# Expose the HTTPS port
EXPOSE 443
